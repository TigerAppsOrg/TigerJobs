<div class="top-container-jobs">
    <div class="container company-card">
        <div class="row bottom-align">
            <div class="col-lg-6 bottom-align">
                <div class="company-title"><b>{{comp.name}}</b>   
                    <span class="company-num-reviews"><b>
                        {{comp.num_internships + comp.num_interviews}}</b> 
                        <span class="company-review-click" onclick="showAllReviews()">
                            total review(s)
                        </span>
                        <span class="tooltip2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                                stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                            <span class="tooltip3text">Click on "total reviews" to see all reviews</span>
                        </span>
                    </span>
                </div>
                <p id="hidden-info" class="align-bottom">
                    <b>Location(s):</b> 
                    {% if locations|length <= 3%}
                    <span>
                    {% for loc in locations[:3] %}
                        <span class="company-textbox-loc">{{loc}}</span> 
                    {% endfor %}<br>
                    </span>
                    {% else %}
                    <span id="hidden-locations">
                    {% for loc in locations[:3] %}
                        <span class="company-textbox-loc">{{loc}}</span> 
                    {% endfor %}<a href="javascript:showLocations(true)" class="company-link">(see more)</a><br>
                    </span>
                    <span id="shown-locations">
                    {% for loc in locations %}
                    <span class="company-textbox-loc">{{loc}}</span>
                    {% endfor %}<a href="javascript:showLocations(false)" class="company-link">(see less)</a><br>
                    </span>
                    {% endif %}

                    <b>Field(s):</b> 
                    {% if fields|length <= 3%} <span>
                    {% for field in fields[:3] %}
                        <span class="company-textbox-field">{{field}}</span>
                    {% endfor %}<br>
                    </span>
                    {% else %}
                    <span id="hidden-fields">
                    {% for field in fields[:3] %}
                        <span class="company-textbox-field">{{field}}</span>
                    {% endfor %}<a href="javascript:showFields(true)" class="company-link">(see more)</a><br>
                    </span>
                    <span id="shown-fields">
                        {% for field in fields %}
                        <span class="company-textbox-field">{{field}}</span>
                        {% endfor %}<a href="javascript:showFields(false)" class="company-link">(see less)</a><br>
                    </span>
                    {% endif %}

                    <b>Major(s):</b> 
                    {% if majors|length <= 3%} <span>
                    {% for major in majors[:3] %}
                        <span class="company-textbox-major">{{major}}</span>
                    {% endfor %}<br>
                    </span>
                    {% else %}
                    <span id="hidden-majors">
                    {% for major in majors[:3] %}
                        <span class="company-textbox-major">{{major}}</span> 
                    {% endfor %}<a href="javascript:showMajors(true)" class="company-link">(see more)</a><br>
                    </span>
                    <span id="shown-majors">
                        {% for major in majors %}
                        <span class="company-textbox-major">{{major}}</span>
                        {% endfor %}<a href="javascript:showMajors(false)" class="company-link">(see less)</a><br>
                    </span>
                    {% endif %}
                </p>
            </div>
            {% if comp.num_internships > 0 %}
            <div class="col-lg-3 center">
                <div class="pie animate" style="--p:{{(comp.enjoyed_internship / comp.num_internships * 100) | int}};--c:orange"> {{(comp.enjoyed_internship / comp.num_internships * 100) | int}}%</div>
                <br> <div class="center">enjoyed their job
                    <!-- <span class="hover-text">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        <span class="tooltip-text" id="right">percentage of reviewers with a rating of 3 or higher</span>
                    </span> -->
                    <span class="tooltip2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span class="tooltip3text">percentage of reviewers with a rating of 3 or higher</span>
                    </span>
                </div> 
            </div>
            {% else %}
            <div class="col-lg-3 center">
                <div class="pie animate" style="--p:0;--c:orange"> 0%</div>
                <br> <div class="center">enjoyed their job
                    <!-- <span class="hover-text">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        <span class="tooltip-text" id="right">percentage of reviewers with a rating of 3 or higher</span>
                    </span> -->
                    <span class="tooltip2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span class="tooltip3text">percentage of reviewers with a rating of 3 or higher</span>
                    </span>
                </div> 
            </div>
            {% endif %}
            {% if comp.num_interviews > 0 %}
            <div class="col-lg-3 center">
                <div class="pie animate" style="--p:{{(comp.enjoyed_interview / comp.num_interviews * 100) | int}};--c:orange">
                    {{(comp.enjoyed_interview / comp.num_interviews * 100) | int}}%</div>
                <br>
                <div class="center">enjoyed their interview
                    <span class="tooltip2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span class="tooltip3text">percentage of reviewers with a rating of 3 or higher</span>
                    </span>
                    <!-- <div class="tooltip">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none"
                            stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span class="tooltip-text" id="right">percentage of reviewers with a rating of 3 or higher</span>
                    </div> -->
                </div>
            </div>
            {% else %}
            <div class="col-lg-3 center">
                <div class="pie animate" style="--p:0;--c:orange">
                    0%</div>
                <br>
                <div class="center">enjoyed their interview
                    <span class="tooltip2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span class="tooltip3text">percentage of reviewers with a rating of 3 or higher</span>
                    </span>
                    <!-- <div class="tooltip">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none"
                            stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span class="tooltip-text" id="right">percentage of reviewers with a rating of 3 or higher</span>
                    </div> -->
                </div>
            </div>
            {% endif %}
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <div class="container company-card" >
                <div class="company-title-sm"><b>Jobs at {{comp.name}}</b>   
                    <span class="company-num-reviews"><b>
                        {{comp.num_internships}} </b><span class="company-review-click" onclick="showInternshipReviews()">review(s)</span>
                    </span>
                    <span class="tooltip2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span class="tooltip3text">Click on "reviews" to see all internship reviews</span>
                    </span>
                </div>
                {% if comp.num_internships > 0 %}
                <div class="row tight">
                    <p>
                        Average Difficulty: <b>{{"%.2f"|format(comp.internship_difficulty / comp.num_internships)}}</b>/5 <br>
                        Average Enjoyment: <b>{{"%.2f"|format(comp.internship_enjoyment / comp.num_internships)}}</b>/5 
                    </p>
                </div>
                {% else %}
                <div class="row tight">
                    <p>
                        Average Difficulty: <b>0</b>/5 <br>
                        Average Enjoyment: <b>0</b>/5
                    </p>
                </div>
                {% endif %}
                <div class="row tight">
                    <div class="col">
                        Career Impact <br>
                        Culture <br>
                        Pay <br>
                        Supervisor <br>
                        Work/Life Balance
                    </div>
                    {% if comp.num_internships > 0 %}
                    <div class="col">
                            <div class="Stars" style="--rating:{{comp.internship_career / comp.num_internships}};"></div>
                            <div class="Stars" style="--rating:{{comp.internship_culture / comp.num_internships}};"></div>
                            <div class="Stars" style="--rating:{{comp.internship_pay / comp.num_internships}};"></div>
                            <div class="Stars" style="--rating:{{comp.internship_supervisor / comp.num_internships}};"></div>
                            <div class="Stars" style="--rating:{{comp.internship_balance / comp.num_internships}};"></div>
                    </div>
                    <div class="col-2">
                            <b>{{"%.2f"|format(comp.internship_career / comp.num_internships)}}</b> <br>
                            <b>{{"%.2f"|format(comp.internship_culture / comp.num_internships)}}</b> <br>
                            <b>{{"%.2f"|format(comp.internship_pay / comp.num_internships)}}</b> <br>
                            <b>{{"%.2f"|format(comp.internship_supervisor / comp.num_internships)}}</b> <br>
                            <b>{{"%.2f"|format(comp.internship_balance / comp.num_internships)}}</b>
                    </div>
                    {% else %}
                    <div class="col">
                        <div class="Stars" style="--rating:0;"></div>
                        <div class="Stars" style="--rating:0;"></div>
                        <div class="Stars" style="--rating:0;"></div>
                        <div class="Stars" style="--rating:0;"></div>
                        <div class="Stars" style="--rating:0;"></div>
                    </div>
                    <div class="col-2">
                        <b>0</b> <br>
                        <b>0</b> <br>
                        <b>0</b> <br>
                        <b>0</b> <br>
                        <b>0</b>
                    </div>
                    {% endif %}
                </div> 
                <div class="row tight">
                    <div class="col">
                        Freshmen: <br>
                        Sophomores: <br>
                        Juniors: <br>
                        Seniors: <br>
                        Graduate Students: 
                    </div>
                    <div class="col">
                        {{comp.internship_grades[0]}} <br>
                        {{comp.internship_grades[1]}} <br>
                        {{comp.internship_grades[2]}} <br>
                        {{comp.internship_grades[3]}} <br>
                        {{comp.internship_grades[4]}} 
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="container company-card" >
                <div class="row">
                    <div class="company-title-sm"><b>Interviews at {{comp.name}}</b>   
                        <span class="company-num-reviews"><b>
                            {{comp.num_interviews}} </b>
                            <span class="company-review-click" onclick="showInterviewReviews()">
                                review(s)
                            </span>
                            <span class="tooltip2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                                    stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                                <span class="tooltip3text">Click on "reviews" to see all interview reviews</span>
                            </span>
                        </span>
                    </div>
                </div>
                {% if comp.num_interviews > 0 %}
                <div class="row">
                    <p>
                        Average Difficulty: <b>{{"%.2f"|format(comp.interview_difficulty / comp.num_interviews)}}</b>/5 <br>
                        Average Enjoyment: <b>{{"%.2f"|format(comp.interview_enjoyment / comp.num_interviews)}}</b>/5 
                    </p>
                </div>    
                {% else %}
                <div class="row">
                    <p>
                        Average Difficulty: <b>0</b>/5 <br>
                        Average Enjoyment: <b>0</b>/5
                    </p>
                </div>
                {% endif %}
                {% if comp.num_interviews > 0 %}
                <div class="row g-2 top-bottom">
                    <div class="col-lg-6 center">
                        <div class="pie animate center" style="--p:{{(comp.difficult_interview / comp.num_interviews * 100) | int}};--c:orange"> {{(comp.difficult_interview / comp.num_interviews * 100) | int}}%</div>
                        <br> 
                        <div class="center">found the interview difficult
                            <div class="tooltip">
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                            </div>
                            <span class="tooltip2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                                    stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                                <span class="tooltip3text">percentage of reviewers with a rating of 3 or higher</span>
                            </span>
                        </div>
                    </div>
                    <div class="col-lg-6 center">
                        <div class="pie animate center" style="--p:{{ (comp.advanced / comp.num_interviews * 100) | int}};--c:orange"> {{ (comp.advanced / comp.num_interviews * 100) | int}}%</div>
                        <br> 
                        <div class="center">advanced to the next round
                            <div class="tooltip">
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                            </div>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="row g-2 top-bottom">
                    <div class="col">
                        <div class="pie animate center"
                            style="--p:0;--c:orange">
                            0%</div>
                        <br>
                        <div class="center">found the interview difficult
                            <div class="tooltip">
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="none"
                                    stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                            </div>
                            <span class="tooltip2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#000000"
                                    stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                                <span class="tooltip3text">percentage of reviewers with a rating of 3 or higher</span>
                            </span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="pie animate center" style="--p:0;--c:orange">
                            0%</div>
                        <br>
                        <div class="center">advanced to the next round
                            <div class="tooltip">
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="none"
                                    stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
                <div class="row g-2 top-bottom">
                    <div class="col">
                        Freshmen: <br>
                        Sophomores: <br>
                        Juniors: <br>
                        Seniors: <br>
                        Graduate Students: 
                    </div>
                    <div class="col">
                        {{comp.interview_grades[0]}} <br>
                        {{comp.interview_grades[1]}} <br>
                        {{comp.interview_grades[2]}} <br>
                        {{comp.interview_grades[3]}} <br>
                        {{comp.interview_grades[4]}} 
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function showLocations(show) {
        if (show) {
            $('#hidden-locations').hide();
            $('#shown-locations').show();
        }
        else {
            $('#hidden-locations').show();
            $('#shown-locations').hide();
        }
    }
    function showFields(show) {
        if (show) {
            $('#hidden-fields').hide();
            $('#shown-fields').show();
        }
        else {
            $('#hidden-fields').show();
            $('#shown-fields').hide();
        }
    }
    function showMajors(show) {
        if (show) {
            $('#hidden-majors').hide();
            $('#shown-majors').show();
        }
        else {
            $('#hidden-majors').show();
            $('#shown-majors').hide();
        }
    }
    function upvoteJob(id) {
        let elemId = "#upvote-count-job-" + id;
        let upvoteIconId = "#upvote-job-" + id;
        if ($(elemId).hasClass("card-upvote-selected")) {
            $(upvoteIconId).css("stroke", "black");
            $(elemId).removeClass("card-upvote-selected");
            let num = $(elemId).text();
            $(elemId).text(num - 1);
        }
        else {
            $(upvoteIconId).css("stroke", "#2058DC");
            $(elemId).addClass("card-upvote-selected");
            let num = parseInt($(elemId).text());
            $(elemId).text(num + 1);
        }
        if (request != null)
            request.abort();
        let url = "/jobs/upvote?id=" + id;
        request = $.post(url, {
        }).done(function (data) {
        }).fail(function (jqXHR, textStatus, errorThrown) {
        });
    }
    function upvoteInterview(id) {
        let elemId = "#upvote-count-interview-" + id;
        let upvoteIconId = "#upvote-interview-" + id;
        if ($(elemId).hasClass("card-upvote-selected")) {
            $(upvoteIconId).css("stroke", "black");
            $(elemId).removeClass("card-upvote-selected");
            let num = $(elemId).text();
            $(elemId).text(num - 1);
        }
        else {
            $(upvoteIconId).css("stroke", "#2058DC");
            $(elemId).addClass("card-upvote-selected");
            let num = parseInt($(elemId).text());
            $(elemId).text(num + 1);
        }
        if (request != null)
            request.abort();
        let url = "/interviews/upvote?id=" + id;
        request = $.post(url, {
        }).done(function (data) {
        }).fail(function (jqXHR, textStatus, errorThrown) {
        });
    }
    function setup() {
        $('#shown-locations').hide();
        $('#shown-fields').hide();
        $('#shown-majors').hide();
    }
    $('document').ready(setup)
</script>